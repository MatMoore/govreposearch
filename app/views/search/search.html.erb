
<div class="row">
  <div class="col col-md-12">
<h1>Government code search</h1>

<div class="well search-box ">
  <%= bootstrap_form_tag(url: "/", method: :get, layout: :inline, enforce_utf8: false) do |f| %>
  <div class="input-group col-md-12">
    <input type="text" name="q" class="form-control" value="<%= @query %>" placeholder="Search for...">
    <span class="input-group-btn">
      <input type="submit" value="Search" class="btn btn-primary"/>
    </span>
  </div>
  <% end %>
</div>

<% if @query.present? %>
<h3>Repositories matching <em><%= @query %></em></h3>
<% else %>
<h3>Trendy repositories</h3>
<% end %>

<% if @results.total > 0 %>
  <ul class="list-group">
  <% @results.each_with_index do |result, i| %>
    <li class="list-group-item">
      <big><%= link_to result.name, result.web_url %></big>
      <p><%= result.description %></p
    </li>
  <% end %>
</ul>

<p>Showing <%= @results.first_result_number %> - <%= @results.last_result_number %> of <%= @results.total %> repositories.</p>
<ul>
<% if @results.has_previous_page? %>
<li><%= link_to 'Previous', url_for(request.query_parameters.merge(from: @results.previous_page)) %></li>
<% end %>
<% if @results.has_next_page? %>
<li><%= link_to 'Next', url_for(request.query_parameters.merge(from: @results.next_page)) %></li>
<% end %>
</ul>

<% else %>
  <p>No repositories found.</p>
<% end %>

</div>
</div>
